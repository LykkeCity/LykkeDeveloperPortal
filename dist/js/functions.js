function initMessages(){var e=$("#msg");$(".form--message").on("click",function(e){e.stopPropagation()}),e.bind("focus",function(){$(this).parents(".form--message").addClass("focused")}).keyup(function(){$(this).val()?$(this).parents(".form--message").addClass("with_value"):$(this).parents(".form--message").removeClass("with_value")}),e.each(function(){autosize(this)}).on("autosize:resized",function(){$(".message_card__inner").css({height:"auto"})}),$("body").on("click",function(){e.val()||($(".form--message").removeClass("focused"),$(".message_card__inner").removeAttr("style"))})}function initHeader(){$(".btn_menu").on("click",function(e){e.preventDefault(),e.stopPropagation(),$("body").addClass("body--menu_opened"),$(".sidebar_menu").addClass("sidebar_menu--open")}),$(".sidebar_menu, .header_search").on("click",function(e){e.stopPropagation()}),$("body, .btn_close_menu, .menu_overlay, .btn_close_header").on("click",function(){$("body").removeClass("body--menu_opened body--search_showed"),$(".sidebar_menu").removeClass("sidebar_menu--open"),$(".header_search").removeClass("header_search--show")}),$(".btn_open_search").on("click",function(e){e.preventDefault(),e.stopPropagation(),$("body").addClass("body--search_showed"),$(".header_search").addClass("header_search--show")})}function initCollapse(){$(".panel_collapse").on("show.bs.collapse",function(){$(this).siblings(".panel_heading").addClass("panel_heading--active")}),$(".panel_collapse").on("hide.bs.collapse",function(){$(this).siblings(".panel_heading").removeClass("panel_heading--active")})}function initForms(){var e,n=window.location.hash;window.location.hash&&($("html, body").animate({scrollTop:$(n).offset().top},0),e=n,$(n).removeClass("hide"),$(".btn_show_form").hide()),$(".btn_show_form").on("click",function(){e=$(this).data("target"),$(this).hide(),$(e).removeClass("hide")}),$(".btn_close_form").on("click",function(){$(".btn_show_form").show(),$(e).addClass("hide")})}function initSmoothScroll(){$(".smooth_scroll").click(function(){if(location.pathname.replace(/^\//,"")==this.pathname.replace(/^\//,"")&&location.hostname==this.hostname){var e=$(this.hash);if(e=e.length?e:$("[name="+this.hash.slice(1)+"]"),e.length)return $("html, body").animate({scrollTop:e.offset().top},1e3),!1}})}function initAffix(){$(".btn_affix").affix({offset:{top:function(){return this.top=$(".site_nav").offset().top-$(".header_container").outerHeight()}}}),$(window).resize(function(){$(".btn_affix").css({right:$(".header .container").offset().left+15})}).trigger("resize")}function initStickyNav(){function e(){var e=$(this).scrollTop();Math.abs(t-e)<=o||(e>t&&e>a?$(".header_nav").removeClass("nav_down").addClass("nav_up"):e+$(window).height()<$(document).height()&&$(".header_nav").removeClass("nav_up").addClass("nav_down"),t=e)}var n,t=0,o=5,a=$(".header_nav").outerHeight();$(window).scroll(function(e){n=!0}),setInterval(function(){n&&(e(),n=!1)},250),$(window).resize(function(){setTimeout(function(){$(".header_nav").css({paddingTop:$(".header").outerHeight()})},30)}).trigger("resize")}!function(e){function n(n,t){var o=n.find(t);o.each(function(){var n=parseInt(e(window).scrollTop()-e(this).offset().top),t=e(this).attr("data-depth");e(this).css({"-webkit-transform":"translate3d(0,"+-(n*t)+"px, 0)","-moz-transform":"translate3d(0,"+-(n*t)+"px, 0)","-ms-transform":"translate3d(0,"+-(n*t)+"px, 0)","-o-transform":"translate3d(0,"+-(n*t)+"px, 0)",transform:"translate3d(0,"+-(n*t)+"px, 0)"})})}var t=(e(window).height(),e(window).width()),o=navigator.userAgent,a=(o.match(/iPad|iPhone|iPad/i)?"touchend":"click",navigator.userAgent.toLowerCase()),i=a.match(/(iphone|ipod|ipad)/);FastClick.attach(document.body),e(window).resize(function(){setTimeout(function(){e(".header_container").css({height:e(".header").outerHeight()})},30),e(".video iframe").css({maxHeight:e(window).outerHeight()-e("header").outerHeight()}),e("body").css({paddingBottom:e("footer").outerHeight()})}).trigger("resize"),i||e("body").on("click",'a[href^="tel:"]',function(){e(this).attr("href",e(this).attr("href").replace(/^tel:/,"callto:"))}),e(function(){e(".scrollToAnchor").on("click",function(n){n.preventDefault();var t=e(this).attr("href");e("html,body").animate({scrollTop:e(t).offset().top-30},1e3)})}),e(".animElem").bind("inview",function(n,t,o,a){t&&e(this).addClass("inview animated fadeInUp")}),e(".features__item").bind("inview",function(n,t,o,a){t&&e(this).addClass("inview")}),e(".animElemFade").bind("inview",function(n,t,o,a){t&&e(this).addClass("inview")}),e(function(){e("#navbar-collapse").on("click",function(n){e("body").toggleClass("menu-collapsed")})}),e(function(){var n=e(".header");e(window).scroll(function(){var t=e(window).scrollTop();t>=10?n.addClass("fixed"):n.removeClass("fixed")})}),!i&&t>=767&&(e(".parallax-elem").length&&n(e(".effect-parallax"),e(".parallax-elem")),e(window).bind("scroll",function(t){e(".parallax-elem").length&&n(e(".effect-parallax"),e(".parallax-elem"))})),e('[data-control="select"] ._value').text(e(this).siblings("select").val()),e('[data-control="select"] select').on("change",function(){e(this).siblings(".select__value").find("._value").text(this.value)})}(window.jQuery),$(window).scroll(function(){$(window).scrollTop()+$(window).height()>$(document).height()-100?$("body").find("#launcher").css({bottom:$(".footer").outerHeight()}):$("body").find("#launcher").css({bottom:0})}),$(document).ready(function(){initMessages(),initHeader(),initStickyNav(),initCollapse(),initForms(),initSmoothScroll(),initAffix()});